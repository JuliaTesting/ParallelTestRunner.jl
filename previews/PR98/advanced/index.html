<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Advanced Usage · ParallelTestRunner.jl</title><meta name="title" content="Advanced Usage · ParallelTestRunner.jl"/><meta property="og:title" content="Advanced Usage · ParallelTestRunner.jl"/><meta property="twitter:title" content="Advanced Usage · ParallelTestRunner.jl"/><meta name="description" content="Documentation for ParallelTestRunner.jl."/><meta property="og:description" content="Documentation for ParallelTestRunner.jl."/><meta property="twitter:description" content="Documentation for ParallelTestRunner.jl."/><meta property="og:url" content="https://juliatesting.github.io/ParallelTestRunner.jl/advanced/"/><meta property="twitter:url" content="https://juliatesting.github.io/ParallelTestRunner.jl/advanced/"/><link rel="canonical" href="https://juliatesting.github.io/ParallelTestRunner.jl/advanced/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ParallelTestRunner.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Advanced Usage</a><ul class="internal"><li><a class="tocitem" href="#Customizing-the-test-suite"><span>Customizing the test suite</span></a></li><li><a class="tocitem" href="#Filtering-Test-Files"><span>Filtering Test Files</span></a></li><li><a class="tocitem" href="#Initialization-Code"><span>Initialization Code</span></a></li><li><a class="tocitem" href="#Worker-Initialization"><span>Worker Initialization</span></a></li><li><a class="tocitem" href="#Custom-Workers"><span>Custom Workers</span></a></li><li><a class="tocitem" href="#Custom-Arguments"><span>Custom Arguments</span></a></li><li><a class="tocitem" href="#Interactive-use"><span>Interactive use</span></a></li><li><a class="tocitem" href="#Best-Practices"><span>Best Practices</span></a></li></ul></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Advanced Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Advanced Usage</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaTesting/ParallelTestRunner.jl/blob/main/docs/src/advanced.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Advanced-Usage"><a class="docs-heading-anchor" href="#Advanced-Usage">Advanced Usage</a><a id="Advanced-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Usage" title="Permalink"></a></h1><p>This page covers advanced features of <code>ParallelTestRunner</code> for customizing test execution.</p><h2 id="Customizing-the-test-suite"><a class="docs-heading-anchor" href="#Customizing-the-test-suite">Customizing the test suite</a><a id="Customizing-the-test-suite-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-the-test-suite" title="Permalink"></a></h2><p>By default, <a href="../api/#ParallelTestRunner.runtests"><code>runtests</code></a> automatically discovers all <code>.jl</code> files in your <code>test/</code> directory (excluding <code>runtests.jl</code> itself) using the <code>find_tests</code> function. You can customize which tests to run by providing a custom <code>testsuite</code> dictionary:</p><pre><code class="language-julia hljs">using ParallelTestRunner
using MyPackage

# Manually define your test suite
testsuite = Dict(
    &quot;basic&quot; =&gt; quote
        include(&quot;basic.jl&quot;)
    end,
    &quot;advanced&quot; =&gt; quote
        include(&quot;advanced.jl&quot;)
        @test 40 + 2 ≈ 42
    end
)

runtests(MyPackage, ARGS; testsuite)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Running 2 tests in parallel. If this is too many, specify the `--jobs=N` argument to the tests, or set the `JULIA_CPU_THREADS` environment variable.
               │ <span class="sgr37">         │ ──────────────── CPU ──────────────── │</span>
<span class="sgr37">Test  (Worker) │ Time (s) │ GC (s) │ GC % │ Alloc (MB) │ RSS (MB) │</span>
<span class="sgr37">advanced   (1) │     0.12 │   0.00 │  0.0 │       5.86 │   579.50 │</span>
<span class="sgr37">basic      (2) │     0.17 │   0.00 │  0.0 │       5.68 │   581.55 │</span>

<span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
  Overall     | <span class="sgr32">   3  </span><span class="sgr36">    3  </span>7.4s
<span class="sgr32"><span class="sgr1">    SUCCESS</span></span></code></pre><h2 id="Filtering-Test-Files"><a class="docs-heading-anchor" href="#Filtering-Test-Files">Filtering Test Files</a><a id="Filtering-Test-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Filtering-Test-Files" title="Permalink"></a></h2><p>You can also use <a href="../api/#ParallelTestRunner.find_tests"><code>find_tests</code></a> to automatically discover test files and then filter or modify them. This requires manually parsing arguments so that filtering is only applied when the user did not request specific tests to run:</p><pre><code class="language-julia hljs">using ParallelTestRunner
using MyPackage

# Start with autodiscovered tests
testsuite = find_tests(pwd())

# Parse arguments
args = parse_args(ARGS)

if filter_tests!(testsuite, args)
    # Remove tests that shouldn&#39;t run on non-Windows systems
    if !Sys.iswindows()
        delete!(testsuite, &quot;advanced&quot;)
    end
end

runtests(MyPackage, args; testsuite)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Running 1 tests in parallel. If this is too many, specify the `--jobs=N` argument to the tests, or set the `JULIA_CPU_THREADS` environment variable.
               │ <span class="sgr37">         │ ──────────────── CPU ──────────────── │</span>
<span class="sgr37">Test  (Worker) │ Time (s) │ GC (s) │ GC % │ Alloc (MB) │ RSS (MB) │</span>
<span class="sgr37">basic      (3) │     0.18 │   0.00 │  0.0 │       5.68 │   630.48 │</span>

<span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
  Overall     | <span class="sgr32">   1  </span><span class="sgr36">    1  </span>4.0s
<span class="sgr32"><span class="sgr1">    SUCCESS</span></span></code></pre><p>The <a href="../api/#ParallelTestRunner.filter_tests!"><code>filter_tests!</code></a> function returns <code>true</code> if no positional arguments were provided (allowing additional filtering) and <code>false</code> if the user specified specific tests (preventing further filtering).</p><h2 id="Initialization-Code"><a class="docs-heading-anchor" href="#Initialization-Code">Initialization Code</a><a id="Initialization-Code-1"></a><a class="docs-heading-anchor-permalink" href="#Initialization-Code" title="Permalink"></a></h2><p>Use the <code>init_code</code> keyword argument to <a href="../api/#ParallelTestRunner.runtests"><code>runtests</code></a> to provide code that runs before each test file. This is useful for:</p><ul><li>Importing packages</li><li>Defining constants, defaults or helper functions</li><li>Setting up test infrastructure</li></ul><pre><code class="language-julia hljs">using ParallelTestRunner
using MyPackage

const init_code = quote
    # Define a helper function available to all tests
    function test_helper(x)
        return x * 2
    end
end

runtests(MyPackage, ARGS; init_code)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Running 2 tests in parallel. If this is too many, specify the `--jobs=N` argument to the tests, or set the `JULIA_CPU_THREADS` environment variable.
               │ <span class="sgr37">         │ ──────────────── CPU ──────────────── │</span>
<span class="sgr37">Test  (Worker) │ Time (s) │ GC (s) │ GC % │ Alloc (MB) │ RSS (MB) │</span>
<span class="sgr37">basic      (5) │     0.18 │   0.00 │  0.0 │       5.67 │   630.48 │</span>
<span class="sgr37">advanced   (4) │     0.18 │   0.00 │  0.0 │       5.67 │   630.48 │</span>

<span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
  Overall     | <span class="sgr32">   2  </span><span class="sgr36">    2  </span>4.0s
<span class="sgr32"><span class="sgr1">    SUCCESS</span></span></code></pre><p>The <code>init_code</code> is evaluated in each test&#39;s sandbox module, so all definitions are available to your test files.</p><h2 id="Worker-Initialization"><a class="docs-heading-anchor" href="#Worker-Initialization">Worker Initialization</a><a id="Worker-Initialization-1"></a><a class="docs-heading-anchor-permalink" href="#Worker-Initialization" title="Permalink"></a></h2><p>For most situations, <code>init_code</code> described above should be used. However, if the common code takes so long to import that it makes a notable difference to run before every testset, you can use the <code>init_worker_code</code> keyword argument in <a href="../api/#ParallelTestRunner.runtests"><code>runtests</code></a> to have it run only once at worker initialization. However, you will also have to import the directly-used functionality in your testset module using <code>init_code</code> due to the way ParallelTestRunner.jl creates a temporary module for each testset.</p><p>The example below is trivial and <code>init_worker_code</code> would not be necessary if this were used in a package, but it shows how it should be used. A real use-case of this is for tests using the GPUArrays.jl test suite; including it takes about 3s, so that 3s running before every testset can add a significant amount of runtime to the various GPU backend testsuites as opposed to running once when the runner is initally created.</p><pre><code class="language-julia hljs">using ParallelTestRunner
using MyPackage

const init_worker_code = quote
    # Common code that&#39;s slow to import
    function complex_common_test_helper(x)
        return x * 2
    end
end

const init_code = quote
    # ParallelTestRunner creates a temporary module to run
    #  each testset. `init_code` runs in this temporary module,
    #  but code from `init_worker_code` that will be directly
    #  called in a testset must be explicitly included in the
    #  module namespace.
    import ..complex_common_test_helper
end

runtests(MyPackage, ARGS; init_worker_code, init_code)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Running 2 tests in parallel. If this is too many, specify the `--jobs=N` argument to the tests, or set the `JULIA_CPU_THREADS` environment variable.
               │ <span class="sgr37">         │ ──────────────── CPU ──────────────── │</span>
<span class="sgr37">Test  (Worker) │ Time (s) │ GC (s) │ GC % │ Alloc (MB) │ RSS (MB) │</span>
<span class="sgr37">basic      (6) │     0.18 │   0.00 │  0.0 │       5.74 │   645.60 │</span>
<span class="sgr37">advanced   (7) │     0.17 │   0.00 │  0.0 │       5.74 │   645.60 │</span>

<span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
  Overall     | <span class="sgr32">   2  </span><span class="sgr36">    2  </span>4.0s
<span class="sgr32"><span class="sgr1">    SUCCESS</span></span></code></pre><p>The <code>init_worker_code</code> is evaluated once per worker, so all definitions can be imported for use by the test module.</p><h2 id="Custom-Workers"><a class="docs-heading-anchor" href="#Custom-Workers">Custom Workers</a><a id="Custom-Workers-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Workers" title="Permalink"></a></h2><p>For tests that require specific environment variables or Julia flags, you can use the <code>test_worker</code> keyword argument to <a href="../api/#ParallelTestRunner.runtests"><code>runtests</code></a> to assign tests to custom workers:</p><pre><code class="language-julia hljs">using ParallelTestRunner
using MyPackage

function test_worker(name)
    if name == &quot;needs_env_var&quot;
        # Create a worker with a specific environment variable
        return addworker(; env = [&quot;SPECIAL_ENV_VAR&quot; =&gt; &quot;42&quot;])
    elseif name == &quot;needs_threads&quot;
        # Create a worker with multiple threads
        return addworker(; exeflags = [&quot;--threads=4&quot;])
    end
    # Return nothing to use the default worker
    return nothing
end

testsuite = Dict(
    &quot;needs_env_var&quot; =&gt; quote
        @test ENV[&quot;SPECIAL_ENV_VAR&quot;] == &quot;42&quot;
    end,
    &quot;needs_threads&quot; =&gt; quote
        @test Base.Threads.nthreads() == 4
    end,
    &quot;normal_test&quot; =&gt; quote
        @test 1 + 1 == 2
    end
)

runtests(MyPackage, ARGS; test_worker, testsuite)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Running 3 tests in parallel. If this is too many, specify the `--jobs=N` argument to the tests, or set the `JULIA_CPU_THREADS` environment variable.
                    │ <span class="sgr37">         │ ──────────────── CPU ──────────────── │</span>
<span class="sgr37">Test       (Worker) │ Time (s) │ GC (s) │ GC % │ Alloc (MB) │ RSS (MB) │</span>
<span class="sgr37">needs_threads   (8) │     0.11 │   0.00 │  0.0 │       5.38 │   679.53 │</span>
<span class="sgr37">needs_env_var   (9) │     0.11 │   0.00 │  0.0 │       5.38 │   679.53 │</span>
<span class="sgr37">normal_test    (10) │     0.11 │   0.00 │  0.0 │       5.38 │   679.53 │</span>

<span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
  Overall     | <span class="sgr32">   3  </span><span class="sgr36">    3  </span>5.1s
<span class="sgr32"><span class="sgr1">    SUCCESS</span></span></code></pre><p>The <code>test_worker</code> function receives the test name and should return either:</p><ul><li>A worker object (from <a href="../api/#ParallelTestRunner.addworker"><code>addworker</code></a>) for tests that need special configuration</li><li><code>nothing</code> to use the default worker pool</li></ul><div class="admonition is-info" id="Note-30fb0c0492b5d8c"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-30fb0c0492b5d8c" title="Permalink"></a></header><div class="admonition-body"><p>If your test suite uses both a <code>test_worker</code> function and <code>init_worker_code</code> as described in a prior section, <code>test_worker</code> must also take in <code>init_worker_code</code> as a second argument. You are responsible for passing it to <a href="../api/#ParallelTestRunner.addworker"><code>addworker</code></a> if your <code>init_code</code> depends on any <code>init_worker_code</code> definitions.</p></div></div><h2 id="Custom-Arguments"><a class="docs-heading-anchor" href="#Custom-Arguments">Custom Arguments</a><a id="Custom-Arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Arguments" title="Permalink"></a></h2><p>If your package needs to accept its own command-line arguments in addition to <code>ParallelTestRunner</code>&#39;s options, use <a href="../api/#ParallelTestRunner.parse_args"><code>parse_args</code></a> with custom flags:</p><pre><code class="language-julia hljs">using ParallelTestRunner
using MyPackage

# Parse arguments with custom flags
args = parse_args(ARGS; custom=[&quot;myflag&quot;, &quot;another-flag&quot;])

# Access custom flags
if args.custom[&quot;myflag&quot;] !== nothing
    println(&quot;Custom flag was set!&quot;)
end

# Pass parsed args to runtests
runtests(MyPackage, args)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Running 2 tests in parallel. If this is too many, specify the `--jobs=N` argument to the tests, or set the `JULIA_CPU_THREADS` environment variable.
               │ <span class="sgr37">         │ ──────────────── CPU ──────────────── │</span>
<span class="sgr37">Test  (Worker) │ Time (s) │ GC (s) │ GC % │ Alloc (MB) │ RSS (MB) │</span>
<span class="sgr37">advanced  (11) │     0.18 │   0.00 │  0.0 │       5.68 │   695.82 │</span>
<span class="sgr37">basic     (12) │     0.18 │   0.00 │  0.0 │       5.68 │   695.82 │</span>

<span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
  Overall     | <span class="sgr32">   2  </span><span class="sgr36">    2  </span>4.0s
<span class="sgr32"><span class="sgr1">    SUCCESS</span></span></code></pre><p>Custom flags are stored in the <code>custom</code> field of the <a href="../api/#ParallelTestRunner.ParsedArgs"><code>ParsedArgs</code></a> object, with values of <code>nothing</code> (not set) or <code>Some(value)</code> (set, with optional value).</p><h2 id="Interactive-use"><a class="docs-heading-anchor" href="#Interactive-use">Interactive use</a><a id="Interactive-use-1"></a><a class="docs-heading-anchor-permalink" href="#Interactive-use" title="Permalink"></a></h2><p>Arguments can also be passed via the standard <a href="https://pkgdocs.julialang.org/v1/api/#Pkg.test"><code>Pkg.test</code></a> interface for interactive control. For example, here is how we could run the subset of test files that start with the name <code>test_cool_feature</code> in i) verbose mode, and ii) with a specific number of Julia threads enabled:</p><pre><code class="language-bash hljs"># Start julia in an environment where `MyPackage.jl` is available
julia --project</code></pre><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Pkg</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; # No need to start a fresh session to change threading
       Pkg.test(&quot;MyPackage&quot;; test_args=`--verbose advanced`, julia_args=`--threads=auto`);</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">     Testing</span></span> MyPackage
<span class="sgr32"><span class="sgr1">      Status</span></span> `/tmp/jl_RfmIkT/Project.toml`
  <span class="sgr90">[0b48ad8b] </span>MyPackage v0.0.0 `~/work/ParallelTestRunner.jl/ParallelTestRunner.jl/docs/MyPackage`
  <span class="sgr90">[d3525ed8] </span>ParallelTestRunner v2.4.1 `~/work/ParallelTestRunner.jl/ParallelTestRunner.jl`
  <span class="sgr90">[8dfed614] </span>Test v1.11.0
<span class="sgr32"><span class="sgr1">      Status</span></span> `/tmp/jl_RfmIkT/Manifest.toml`
  <span class="sgr90">[b5f81e59] </span>IOCapture v1.0.0
  <span class="sgr90">[36869731] </span>Malt v1.4.0
  <span class="sgr90">[0b48ad8b] </span>MyPackage v0.0.0 `~/work/ParallelTestRunner.jl/ParallelTestRunner.jl/docs/MyPackage`
  <span class="sgr90">[d3525ed8] </span>ParallelTestRunner v2.4.1 `~/work/ParallelTestRunner.jl/ParallelTestRunner.jl`
  <span class="sgr90">[05181044] </span>RelocatableFolders v1.0.1
  <span class="sgr90">[6c6a2e73] </span>Scratch v1.3.0
  <span class="sgr90">[10745b16] </span>Statistics v1.11.1
  <span class="sgr90">[56f22d72] </span>Artifacts v1.11.0
  <span class="sgr90">[2a0f44e3] </span>Base64 v1.11.0
  <span class="sgr90">[ade2ca70] </span>Dates v1.11.0
  <span class="sgr90">[8ba89e20] </span>Distributed v1.11.0
  <span class="sgr90">[b77e0a4c] </span>InteractiveUtils v1.11.0
  <span class="sgr90">[ac6e5ff7] </span>JuliaSyntaxHighlighting v1.12.0
  <span class="sgr90">[8f399da3] </span>Libdl v1.11.0
  <span class="sgr90">[37e2e46d] </span>LinearAlgebra v1.12.0
  <span class="sgr90">[56ddb016] </span>Logging v1.11.0
  <span class="sgr90">[d6f4376e] </span>Markdown v1.11.0
  <span class="sgr90">[de0858da] </span>Printf v1.11.0
  <span class="sgr90">[9a3f8284] </span>Random v1.11.0
  <span class="sgr90">[ea8e919c] </span>SHA v0.7.0
  <span class="sgr90">[9e88b42a] </span>Serialization v1.11.0
  <span class="sgr90">[6462fe0b] </span>Sockets v1.11.0
  <span class="sgr90">[f489334b] </span>StyledStrings v1.11.0
  <span class="sgr90">[8dfed614] </span>Test v1.11.0
  <span class="sgr90">[4ec0a83e] </span>Unicode v1.11.0
  <span class="sgr90">[e66e0078] </span>CompilerSupportLibraries_jll v1.3.0+1
  <span class="sgr90">[4536629a] </span>OpenBLAS_jll v0.3.29+0
  <span class="sgr90">[8e850b90] </span>libblastrampoline_jll v5.15.0+0
<span class="sgr32"><span class="sgr1">     Testing</span></span> Running tests...
Running 1 tests in parallel. If this is too many, specify the `--jobs=N` argument to the tests, or set the `JULIA_CPU_THREADS` environment variable.
               │ <span class="sgr37">         │ ──────────────── CPU ──────────────── │</span>
<span class="sgr37">Test  (Worker) │ Time (s) │ GC (s) │ GC % │ Alloc (MB) │ RSS (MB) │</span>
<span class="sgr37">advanced   (1) │</span><span class="sgr90">        started at 2026-02-25T16:32:12.171</span>
<span class="sgr37">advanced   (1) │     0.18 │   0.00 │  0.0 │       5.67 │   456.58 │</span>

<span class="sgr1">Test Summary: | <span class="sgr32">Pass  </span><span class="sgr36">Total  </span>Time</span>
  Overall     | <span class="sgr32">   1  </span><span class="sgr36">    1  </span>6.7s
    advanced  | <span class="sgr32">   1  </span><span class="sgr36">    1  </span>0.1s
<span class="sgr32"><span class="sgr1">    SUCCESS</span></span>
<span class="sgr32"><span class="sgr1">     Testing</span></span> MyPackage tests passed</code></pre><p>Alternatively, arguments can be passed directly from the command line with a shell alias like the one below:</p><pre><code class="language-julia-repl hljs">jltest --threads=auto -- --verbose test_cool_feature</code></pre><p>Shell alias:</p><pre><code class="language-bash hljs">function jltest {
    julia=(julia)

    # certain arguments (like those beginnning with a +) need to come first
    if [[ $# -gt 0 &amp;&amp; &quot;$1&quot; = +* ]]; then
        julia+=(&quot;$1&quot;)
        shift
    fi

    &quot;${julia[@]}&quot; --startup-file=no --project -e &quot;using Pkg; Pkg.API.test(; test_args=ARGS)&quot; &quot;$@&quot;
}</code></pre><h2 id="Best-Practices"><a class="docs-heading-anchor" href="#Best-Practices">Best Practices</a><a id="Best-Practices-1"></a><a class="docs-heading-anchor-permalink" href="#Best-Practices" title="Permalink"></a></h2><ol><li><p><strong>Keep tests isolated</strong>: Each test file runs in its own module, so avoid relying on global state between tests.</p></li><li><p><strong>Use <code>init_code</code> for common setup</strong>: Instead of duplicating setup code in each test file, use <code>init_code</code> to share common initialization. For long-running initialization, consider using <code>init_worker_code</code> so that it is run only once per worker creation instead of before each test.</p></li><li><p><strong>Filter tests appropriately</strong>: Use <a href="../api/#ParallelTestRunner.filter_tests!"><code>filter_tests!</code></a> to respect user-specified test filters while allowing additional programmatic filtering.</p></li><li><p><strong>Handle platform differences</strong>: Use conditional logic in your test suite setup to handle platform-specific tests:</p><pre><code class="language-julia hljs">testsuite = find_tests(pwd())
if Sys.iswindows()
    delete!(testsuite, &quot;unix_specific_test&quot;)
end</code></pre></li><li><p><strong>Load balance the test files</strong>: <code>ParallelTestRunner</code> runs the tests files in parallel, ideally all test files should run for <em>roughly</em> the same time for better performance. Having few long-running test files and other short-running ones hinders scalability.</p></li><li><p><strong>Use custom workers sparingly</strong>: Custom workers add overhead. Only use them when tests genuinely require different configurations.</p></li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../api/">API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.17.0 on <span class="colophon-date" title="Wednesday 25 February 2026 16:32">Wednesday 25 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
